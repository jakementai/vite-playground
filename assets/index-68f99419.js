var f=Object.defineProperty;var g=(e,r,n)=>r in e?f(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var s=(e,r,n)=>(g(e,typeof r!="symbol"?r+"":r,n),n);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();class C{constructor(){s(this,"totalCards",52);s(this,"drawnCards");s(this,"cardSymbolOrder");s(this,"cardValueOrder");this.drawnCards=[],this.cardSymbolOrder=[i.Diamonds,i.Clubs,i.Hearts,i.Spades],this.cardValueOrder=["A","2","3","4","5","6","7","8","9","10","J","Q","K"]}drawCard(){return this.drawnCards.length>=this.totalCards?"There are no more cards to be drawn":this.toHumaneCard(this.drawUniqueCard())}getRemainingCardsCount(){return this.totalCards-this.drawnCards.length}getDrawnCards(){return this.drawnCards}resetDeck(){this.drawnCards=[]}toHumaneCard(r){const n=Math.floor(r/13),d=r%13;return this.cardSymbolOrder[n]+this.cardValueOrder[d]}getLastDrawnCard(){return this.toHumaneCard(this.drawnCards.slice(-1)[0])}drawUniqueCard(){let r=Math.floor(Math.random()*52);for(;this.drawnCards.includes(r);)r=Math.floor(Math.random()*52);return this.drawnCards.push(r),r}}var i=(e=>(e.Spades="♠",e.Hearts="♥",e.Clubs="♣",e.Diamonds="♦",e))(i||{});let o=new C,c=document.querySelector("#info"),u=document.querySelector("#card-count"),m=document.querySelector("#analytics");function w(){console.log("Initialising Page"),document.getElementById("draw-card").addEventListener("click",()=>y()),document.getElementById("reset-deck").addEventListener("click",()=>p()),h()}function y(){c.innerHTML=`<h2>${o.drawCard()}</h2>`,u.innerText=o.getDrawnCards().length.toString(),L()}function p(){o.resetDeck(),c.innerHTML="<h2>Deck has been reshuffled</h2>",u.innerText=o.getDrawnCards().length.toString(),h()}function h(){let e=[...Array(13)].map((r,n)=>`<td id="col-${n}"></td>`).join("");m.innerHTML=`
  <table>
    <tr></tr>
    <tr id='row-0'>${e}</tr>
    <tr id='row-1'>${e}</tr>
    <tr id='row-2'>${e}</tr>
    <tr id='row-3'>${e}</tr>
  </table>`}function L(){const e=52-o.getRemainingCardsCount()-1;console.log(e);const r=Math.floor(e/13),n=e%13;let d=document.querySelector(`#row-${r} #col-${n}`);d.innerHTML=o.getLastDrawnCard(),o.getLastDrawnCard().match(RegExp("(♦|♥)"))?d.classList.add("red"):d.classList.add("black")}w();
